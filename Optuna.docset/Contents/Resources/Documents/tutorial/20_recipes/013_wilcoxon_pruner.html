
<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Early-stopping independent evaluations by Wilcoxon pruner — Optuna 4.4.0 documentation</title>
<link href="../../_static/pygments.css?v=03e43079" rel="stylesheet" type="text/css"/>
<link href="../../_static/css/theme.css?v=e59714d7" rel="stylesheet" type="text/css"/>
<link href="../../_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css"/>
<link href="../../_static/sg_gallery.css?v=d2d258e8" rel="stylesheet" type="text/css"/>
<link href="../../_static/sg_gallery-binder.css?v=f4aeca0c" rel="stylesheet" type="text/css"/>
<link href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" rel="stylesheet" type="text/css"/>
<link href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" rel="stylesheet" type="text/css"/>
<link href="../../_static/css/custom.css?v=d0d4e556" rel="stylesheet" type="text/css"/>
<link href="../../_static/favicon.ico" rel="shortcut icon"/>
<script src="../../_static/jquery.js?v=5d32c60e"></script>
<script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=27effbb3"></script>
<script src="../../_static/doctools.js?v=888ff710"></script>
<script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
<script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../../_static/copybutton.js?v=a56c686a"></script>
<script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../_static/js/theme.js"></script>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
</head>
<body class="wy-body-for-nav">
<div class="navbar">
<div class="navbar ml-auto">
<ul class="navbar-nav">
<li>
<a class="header_link" href="https://optuna.org/#key_features">Key Features</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#code_examples">Code Examples</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#installation">Installation</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#dashboard">Dashboard</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#hub">OptunaHub</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#blog">Blog</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#video">Videos</a>
</li>
<li>
<a class="header_link" href="https://optuna.org/#paper">Paper</a>
</li>
</ul>
</div>
</div>
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a href="../../index.html">
<img alt="Logo" class="logo" src="../../_static/optuna-logo.png"/>
</a>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">Optuna</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<!-- This file is necessary to remove "Edit on Github" button from readthedocs by following https://docs.readthedocs.io/en/stable/guides/remove-edit-buttons.html#remove-links-from-top-right-corner --><div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../../index.html"></a></li>
<li class="breadcrumb-item active">Early-stopping independent evaluations by Wilcoxon pruner</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-tutorial-20-recipes-013-wilcoxon-pruner-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="early-stopping-independent-evaluations-by-wilcoxon-pruner">
<a class="dashAnchor" name="//apple_ref/cpp/Section/Early-stopping independent evaluations by Wilcoxon pruner"></a><span id="wilcoxon-pruner"></span><a class="dashAnchor" name="//apple_ref/cpp/Section/Early-stopping independent evaluations by Wilcoxon pruner"></a><span id="sphx-glr-tutorial-20-recipes-013-wilcoxon-pruner-py"></span><h1>Early-stopping independent evaluations by Wilcoxon pruner<a class="headerlink" href="#early-stopping-independent-evaluations-by-wilcoxon-pruner" title="Permalink to this heading"></a></h1>
<p>This tutorial showcases Optuna’s <a class="reference internal" href="../../reference/generated/optuna.pruners.WilcoxonPruner.html#optuna.pruners.WilcoxonPruner" title="optuna.pruners.WilcoxonPruner"><code class="xref py py-class docutils literal notranslate"><span class="pre">WilcoxonPruner</span></code></a>.
This pruner is effective for objective functions that averages multiple evaluations.</p>
<p>We solve <a class="reference external" href="https://en.wikipedia.org/w/index.php?title=Travelling_salesman_problem&amp;oldid=1211575788">Traveling Salesman Problem (TSP)</a>
by <a class="reference external" href="https://en.wikipedia.org/w/index.php?title=Simulated_annealing&amp;oldid=1187355062">Simulated Annealing (SA)</a>.</p>
<section id="overview-solving-traveling-salesman-problem-with-simulated-annealing">
<h2>Overview: Solving Traveling Salesman Problem with Simulated Annealing<a class="headerlink" href="#overview-solving-traveling-salesman-problem-with-simulated-annealing" title="Permalink to this heading"></a></h2>
<p>Traveling Salesman Problem (TSP) is a classic problem in combinatorial optimization
that involves finding the shortest possible route for a salesman
who needs to visit a set of cities, each exactly once, and return to the starting city.
TSP has been extensively studied in fields such as mathematics, computer science,
and operations research, and has numerous practical applications in logistics,
manufacturing, and DNA sequencing, among others.
The problem is classified as NP-hard, so approximation algorithms or
heuristic methods are commonly employed for larger instances.</p>
<p>One simple heuristic method applicable to TSP is simulated annealing (SA).
SA starts with an initial solution (it can be constructed by a simpler heuristic
like greedy method), and it randomly checks the neighborhood (defined later)
of the solution. If a neighbor is better, the solution is updated to the neighbor.
If the neighbor is worse, SA still updates the solution to the neighbor with
probability <span class="math notranslate nohighlight">\(e^{-\Delta c / T}\)</span>, where
<span class="math notranslate nohighlight">\(\Delta c (&gt; 0)\)</span> is the difference of
the cost (sum of the distance) between the new solution and the old one and
<span class="math notranslate nohighlight">\(T\)</span> is a parameter called “temperature”. The temperature controls
how much worsening of the solution is tolerated to escape from the local minimum
(high means more tolerant). If the temperature is too low, SA will quickly
fall into a local minimum; if the temperature is too high, SA will be like
a random walk and the optimization will be inefficient. Typically, we set a
“temperature schedule” that starts from a high temperature and gradually
decreases to zero.</p>
<p>There are several ways to define neighborhood for TSP, but we use a
simple neighborhood called <a class="reference external" href="https://en.wikipedia.org/w/index.php?title=2-opt&amp;oldid=1194969927">2-opt</a>. 2-opt neighbor chooses a path in
the current solution and reverses the visiting order in the path.
For example, if the initial solution is <cite>a→b→c→d→e→a</cite>, <cite>a→d→c→b→e→a</cite> is
a 2-opt neighbor (the path from <cite>b</cite> to <cite>d</cite> is reversed).
This neighborhood is good because computing the difference of the cost
can be done in constant time (we only need to care about the start
and the end of the chosen path).</p>
</section>
</section>
<section id="main-tutorial-tuning-sa-parameters-for-tsp">
<h1>Main Tutorial: Tuning SA Parameters for TSP<a class="headerlink" href="#main-tutorial-tuning-sa-parameters-for-tsp" title="Permalink to this heading"></a></h1>
<p>First, let’s import some packages and define the parameters setting of SA
and the cost function of TSP.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <a class="sphx-glr-backref-module-dataclasses sphx-glr-backref-type-py-function" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass" title="dataclasses.dataclass"><span class="n">dataclass</span></a>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">optuna</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">numpy.linalg</span><span class="w"> </span><span class="kn">import</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a>


<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SAOptions</span><span class="p">:</span>
    <span class="n">max_iter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>
    <span class="n">T0</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span>
    <span class="n">patience</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>


<span class="k">def</span><span class="w"> </span><span class="nf">tsp_cost</span><span class="p">(</span><span class="n">vertices</span><span class="p">:</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">,</span> <span class="n">idxs</span><span class="p">:</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.roll.html#numpy.roll" title="numpy.roll"><span class="n">np</span><span class="o">.</span><span class="n">roll</span></a><span class="p">(</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>Greedy solution for initial guess.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">tsp_greedy</span><span class="p">(</span><span class="n">vertices</span><span class="p">:</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">)</span> <span class="o">-&gt;</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">:</span>
    <span class="n">idxs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">dists_from_last</span> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">dists_from_last</span><span class="p">[</span><span class="n">idxs</span><span class="p">]</span> <span class="o">=</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#float" title="builtins.float"><span class="n">np</span><span class="o">.</span><span class="n">inf</span></a>
        <span class="n">idxs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.argmin.html#numpy.argmin" title="numpy.argmin"><span class="n">np</span><span class="o">.</span><span class="n">argmin</span></a><span class="p">(</span><span class="n">dists_from_last</span><span class="p">))</span>
    <span class="k">return</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="numpy.array"><span class="n">np</span><span class="o">.</span><span class="n">array</span></a><span class="p">(</span><span class="n">idxs</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For simplicity of implementation, we use SA with the 2-opt neighborhood to solve TSP,
but note that this is far from the “best” way to solve TSP. There are significantly more
advanced methods than this method.</p>
</div>
<p>The implementation of SA with 2-opt neighborhood is following.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">tsp_simulated_annealing</span><span class="p">(</span><span class="n">vertices</span><span class="p">:</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">SAOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">:</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">temperature</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">assert</span> <span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">t</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">&lt;=</span> <span class="mf">1.0</span>
        <span class="k">return</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#float" title="builtins.float"><span class="n">options</span><span class="o">.</span><span class="n">T0</span></a> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span> <span class="o">**</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#float" title="builtins.float"><span class="n">options</span><span class="o">.</span><span class="n">alpha</span></a>

    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>

    <span class="n">idxs</span> <span class="o">=</span> <span class="n">tsp_greedy</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="n">tsp_cost</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">idxs</span><span class="p">)</span>
    <span class="n">best_idxs</span> <span class="o">=</span> <span class="n">idxs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost</span>
    <span class="n">remaining_patience</span> <span class="o">=</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">patience</span></a>

    <span class="k">for</span> <span class="nb">iter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">max_iter</span></a><span class="p">):</span>

        <span class="n">i</span> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.randint.html#numpy.random.randint" title="numpy.random.randint"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
        <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.randint.html#numpy.random.randint" title="numpy.random.randint"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">3</span><span class="p">))</span> <span class="o">%</span> <span class="n">N</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
        <span class="c1"># Reverse the order of vertices between range [i+1, j].</span>

        <span class="c1"># cost difference by 2-opt reversal</span>
        <span class="n">delta_cost</span> <span class="o">=</span> <span class="p">(</span>
            <span class="o">-</span><a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">N</span><span class="p">]]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
            <span class="o">-</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">N</span><span class="p">]])</span>
            <span class="o">+</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[</span><span class="n">j</span><span class="p">]])</span>
            <span class="o">+</span> <a class="sphx-glr-backref-module-numpy-linalg sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm" title="numpy.linalg.norm"><span class="n">norm</span></a><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">N</span><span class="p">]]</span> <span class="o">-</span> <span class="n">vertices</span><span class="p">[</span><span class="n">idxs</span><span class="p">[(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">N</span><span class="p">]])</span>
        <span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temperature</span><span class="p">(</span><span class="nb">iter</span> <span class="o">/</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">max_iter</span></a><span class="p">)</span>
        <span class="k">if</span> <span class="n">delta_cost</span> <span class="o">&lt;=</span> <span class="mf">0.0</span> <span class="ow">or</span> <a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.random.html#numpy.random.random" title="numpy.random.random"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span></a><span class="p">()</span> <span class="o">&lt;</span> <a class="sphx-glr-backref-module-math sphx-glr-backref-type-py-function" href="https://docs.python.org/3/library/math.html#math.exp" title="math.exp"><span class="n">math</span><span class="o">.</span><span class="n">exp</span></a><span class="p">(</span><span class="o">-</span><span class="n">delta_cost</span> <span class="o">/</span> <span class="n">temp</span><span class="p">):</span>
            <span class="c1"># accept the 2-opt reversal</span>
            <span class="n">cost</span> <span class="o">+=</span> <span class="n">delta_cost</span>
            <span class="n">idxs</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">idxs</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">cost</span> <span class="o">&lt;</span> <span class="n">best_cost</span><span class="p">:</span>
                <span class="n">best_idxs</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">idxs</span>
                <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost</span>
                <span class="n">remaining_patience</span> <span class="o">=</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">patience</span></a>

        <span class="k">if</span> <span class="n">cost</span> <span class="o">&gt;</span> <span class="n">best_cost</span><span class="p">:</span>
            <span class="c1"># If the best solution is not updated for "patience" iteratoins,</span>
            <span class="c1"># restart from the best solution.</span>
            <span class="n">remaining_patience</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">remaining_patience</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">idxs</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">best_idxs</span>
                <span class="n">cost</span> <span class="o">=</span> <span class="n">best_cost</span>
                <span class="n">remaining_patience</span> <span class="o">=</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">patience</span></a>

    <span class="k">return</span> <span class="n">best_idxs</span>
</pre></div>
</div>
<p>We make a random dataset of TSP.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">make_dataset</span><span class="p">(</span><span class="n">num_vertex</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">num_problem</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span></a><span class="p">:</span>
    <span class="n">rng</span> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generator.html#numpy.random.default_rng" title="numpy.random.default_rng"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span></a><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="n">num_problem</span><span class="p">,</span> <span class="n">num_vertex</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>


<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a> <span class="o">=</span> <span class="n">make_dataset</span><span class="p">(</span>
    <span class="n">num_vertex</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">num_problem</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="p">)</span>

<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_TRIALS</span></a> <span class="o">=</span> <span class="mi">50</span>
</pre></div>
</div>
<p>We set a very small number of SA iterations for demonstration purpose.
In practice, you should set a larger number of iterations (e.g., 1000000).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_SA_ITER</span></a> <span class="o">=</span> <span class="mi">10000</span>
</pre></div>
</div>
<p>We counts the number of evaluation to know how many problems is pruned.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">num_evaluation</span></a> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>In this tutorial, we optimize three parameters: <code class="docutils literal notranslate"><span class="pre">T0</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, and <code class="docutils literal notranslate"><span class="pre">patience</span></code>.</p>
<section id="t0-and-alpha-defining-the-temperature-schedule">
<h2><code class="docutils literal notranslate"><span class="pre">T0</span></code> and <code class="docutils literal notranslate"><span class="pre">alpha</span></code> defining the temperature schedule<a class="headerlink" href="#t0-and-alpha-defining-the-temperature-schedule" title="Permalink to this heading"></a></h2>
<p>In simulated annealing, it is important to determine a good temperature scheduling, but
there is no “silver schedule” that is good for all problems, so we must tune the schedule
for this problem.
This code parametrizes the temperature as a monomial function <code class="docutils literal notranslate"><span class="pre">T0</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">t)</span> <span class="pre">**</span> <span class="pre">alpha</span></code>, where
<cite>t</cite> progresses from 0 to 1. We try to optimize the two parameters <code class="docutils literal notranslate"><span class="pre">T0</span></code> and <code class="docutils literal notranslate"><span class="pre">alpha</span></code>.</p>
</section>
<section id="patience">
<h2><code class="docutils literal notranslate"><span class="pre">patience</span></code><a class="headerlink" href="#patience" title="Permalink to this heading"></a></h2>
<p>This parameter specifies a threshold of how many iterations we allow the annealing process
continue without updating the best value. Practically, simulated annealing often drives
the solution far away from the current best solution, and rolling back to the best solution
periodically often improves optimization efficiency a lot. However, if the rollback happens
too often, the optimization may get stuck in a local optimum, so we must tune the threshold
to a sensible amount.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some samplers, including the default <code class="docutils literal notranslate"><span class="pre">TPESampler</span></code>, currently cannot utilize the
information of pruned trials effectively (especially when the last intermediate value
is not the best approximation to the final objective function).
As a workaround for this issue, you can return an estimation of the final value
(e.g., the average of all evaluated values) when <code class="docutils literal notranslate"><span class="pre">trial.should_prune()</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code>,
instead of <cite>raise optuna.TrialPruned()</cite>.
This will improve the sampler performance.</p>
</div>
<p>We define the objective function to be optimized as follows.
We early stop the evaluation by using the pruner.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">objective</span><span class="p">(</span><span class="n">trial</span><span class="p">:</span> <a class="sphx-glr-backref-module-abc sphx-glr-backref-type-py-class" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="abc.ABC"><span class="n">optuna</span><span class="o">.</span><span class="n">Trial</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">global</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">num_evaluation</span></a>
    <span class="n">options</span> <span class="o">=</span> <span class="n">SAOptions</span><span class="p">(</span>
        <span class="n">max_iter</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_SA_ITER</span></a><span class="p">,</span>
        <span class="n">T0</span><span class="o">=</span><span class="n">trial</span><span class="o">.</span><span class="n">suggest_float</span><span class="p">(</span><span class="s2">"T0"</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">alpha</span><span class="o">=</span><span class="n">trial</span><span class="o">.</span><span class="n">suggest_float</span><span class="p">(</span><span class="s2">"alpha"</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">patience</span><span class="o">=</span><span class="n">trial</span><span class="o">.</span><span class="n">suggest_int</span><span class="p">(</span><span class="s2">"patience"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># For best results, shuffle the evaluation order in each trial.</span>
    <span class="n">instance_ids</span> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.permutation.html#numpy.random.permutation" title="numpy.random.permutation"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">permutation</span></a><span class="p">(</span><span class="nb">len</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a><span class="p">))</span>
    <span class="k">for</span> <span class="n">instance_id</span> <span class="ow">in</span> <span class="n">instance_ids</span><span class="p">:</span>
        <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">num_evaluation</span></a> <span class="o">+=</span> <span class="mi">1</span>
        <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a> <span class="o">=</span> <span class="n">tsp_simulated_annealing</span><span class="p">(</span><span class="n">vertices</span><span class="o">=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a><span class="p">[</span><span class="n">instance_id</span><span class="p">],</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
        <span class="n">result_cost</span> <span class="o">=</span> <span class="n">tsp_cost</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a><span class="p">[</span><span class="n">instance_id</span><span class="p">],</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result_cost</span><span class="p">)</span>

        <span class="n">trial</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">result_cost</span><span class="p">,</span> <span class="n">instance_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">trial</span><span class="o">.</span><span class="n">should_prune</span><span class="p">():</span>
            <span class="c1"># Return the current predicted value instead of raising `TrialPruned`.</span>
            <span class="c1"># This is a workaround to tell the Optuna about the evaluation</span>
            <span class="c1"># results in pruned trials.</span>
            <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p>We use <code class="docutils literal notranslate"><span class="pre">TPESampler</span></code> with <code class="docutils literal notranslate"><span class="pre">WilcoxonPruner</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.seed.html#numpy.random.seed" title="numpy.random.seed"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span></a><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sampler</span> <span class="o">=</span> <a class="sphx-glr-backref-module-abc sphx-glr-backref-type-py-class" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="abc.ABC"><span class="n">optuna</span><span class="o">.</span><span class="n">samplers</span><span class="o">.</span><span class="n">TPESampler</span></a><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pruner</span> <span class="o">=</span> <a class="sphx-glr-backref-module-abc sphx-glr-backref-type-py-class" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="abc.ABC"><span class="n">optuna</span><span class="o">.</span><span class="n">pruners</span><span class="o">.</span><span class="n">WilcoxonPruner</span></a><span class="p">(</span><span class="n">p_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">study</span> <span class="o">=</span> <span class="n">optuna</span><span class="o">.</span><span class="n">create_study</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">"minimize"</span><span class="p">,</span> <span class="n">sampler</span><span class="o">=</span><span class="n">sampler</span><span class="p">,</span> <span class="n">pruner</span><span class="o">=</span><span class="n">pruner</span><span class="p">)</span>
<span class="n">study</span><span class="o">.</span><span class="n">enqueue_trial</span><span class="p">({</span><span class="s2">"T0"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s2">"alpha"</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s2">"patience"</span><span class="p">:</span> <span class="mi">50</span><span class="p">})</span>  <span class="c1"># default params</span>
<span class="n">study</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">objective</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_TRIALS</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/dash-docset-optuna/dash-docset-optuna/optuna/tutorial/20_recipes/013_wilcoxon_pruner.py:255: ExperimentalWarning:

WilcoxonPruner is experimental (supported from v3.6.0). The interface can change in the future.
</pre></div>
</div>
<p>We can show the optimization results as:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"The number of trials: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">study</span><span class="o">.</span><span class="n">trials</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Best value: </span><span class="si">{</span><span class="n">study</span><span class="o">.</span><span class="n">best_value</span><span class="si">}</span><span class="s2"> (params: </span><span class="si">{</span><span class="n">study</span><span class="o">.</span><span class="n">best_params</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of evaluation: </span><span class="si">{</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">num_evaluation</span></a><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_TRIALS</span></a><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>The number of trials: 50
Best value: 8.380020578710344 (params: {'T0': 0.016833751600380246, 'alpha': 3.7115397779424373, 'patience': 29})
Number of evaluation: 1241 / 2500
</pre></div>
</div>
<p>Visualize the optimization history.
Note that this plot shows both completed and pruned trials in same ways.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">optuna</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">plot_optimization_history</span><span class="p">(</span><span class="n">study</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div> <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script> <div class="plotly-graph-div" id="b5e57630-d482-4112-ab8e-340f2eab74c4" style="height:100%; width:100%;"></div> <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("b5e57630-d482-4112-ab8e-340f2eab74c4")) {                    Plotly.newPlot(                        "b5e57630-d482-4112-ab8e-340f2eab74c4",                        [{"mode":"markers","name":"Objective Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[8.782344443856964,8.422906203505741,8.593845470015895,8.60259504431499,8.702872737049939,8.427074324895004,8.794627829762568,8.411864623074651,8.63984827640415,8.619875418151151,8.450845635136483,8.43934483284874,8.409873845597984,8.405101873744997,8.380020578710344,8.390260192413516,8.40777848302015,8.396561656364646,8.743702284331771,8.386530032731239,8.546271779321383,8.433220985890426,8.403279327729358,8.571010163493956,8.399761764706339,8.434324300939878,8.62181132048256,8.448325105359855,8.521437774638096,8.43116918870815,8.489584747602736,8.47694240337373,8.38281991914042,8.381348170305898,8.501491714091097,8.56871728264399,8.433195208101424,9.102656420305856,8.381322532278137,8.472706243985181,8.416814029846059,8.48011928636877,8.459298706866477,8.548498634269006,8.412402174967719,8.519779758537142,8.691913207962246,8.57021325078664,8.440450112532314,8.393726451049131],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[8.782344443856964,8.422906203505741,8.422906203505741,8.422906203505741,8.422906203505741,8.422906203505741,8.422906203505741,8.411864623074651,8.411864623074651,8.411864623074651,8.411864623074651,8.411864623074651,8.409873845597984,8.405101873744997,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344,8.380020578710344],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}}},                        {"responsive": true}                    )                };            </script> </div>
</div>
<br/>
<br/><p>Visualize the number of evaluations in each trial.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">x_values</span></a> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">study</span><span class="o">.</span><span class="n">trials</span><span class="p">))</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">study</span><span class="o">.</span><span class="n">best_trial</span><span class="o">.</span><span class="n">number</span><span class="p">]</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">y_values</span></a> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">intermediate_values</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">study</span><span class="o">.</span><span class="n">trials</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">number</span> <span class="o">!=</span> <span class="n">study</span><span class="o">.</span><span class="n">best_trial</span><span class="o">.</span><span class="n">number</span>
<span class="p">]</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">best_trial_y</span></a> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">study</span><span class="o">.</span><span class="n">best_trial</span><span class="o">.</span><span class="n">intermediate_values</span><span class="p">)]</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">best_trial_x</span></a> <span class="o">=</span> <span class="p">[</span><span class="n">study</span><span class="o">.</span><span class="n">best_trial</span><span class="o">.</span><span class="n">number</span><span class="p">]</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">go</span><span class="o">.</span><span class="n">Figure</span></a><span class="p">()</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.add_trace" title="plotly.graph_objs.Figure.add_trace"><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span></a><span class="p">(</span><a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Bar.html#plotly.graph_objs.Bar" title="plotly.graph_objs.Bar"><span class="n">go</span><span class="o">.</span><span class="n">Bar</span></a><span class="p">(</span><span class="n">x</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">x_values</span></a><span class="p">,</span> <span class="n">y</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">y_values</span></a><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"Evaluations"</span><span class="p">))</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.add_trace" title="plotly.graph_objs.Figure.add_trace"><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span></a><span class="p">(</span><a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Bar.html#plotly.graph_objs.Bar" title="plotly.graph_objs.Bar"><span class="n">go</span><span class="o">.</span><span class="n">Bar</span></a><span class="p">(</span><span class="n">x</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">best_trial_x</span></a><span class="p">,</span> <span class="n">y</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list"><span class="n">best_trial_y</span></a><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"Best Trial"</span><span class="p">,</span> <span class="n">marker_color</span><span class="o">=</span><span class="s2">"red"</span><span class="p">))</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.update_layout" title="plotly.graph_objs.Figure.update_layout"><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span></a><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">"Number of evaluations in each trial"</span><span class="p">,</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">"Trial number"</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">"Number of evaluations before pruned"</span><span class="p">,</span>
<span class="p">)</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div> <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script> <div class="plotly-graph-div" id="8df84103-353b-4b8d-b8e7-c93217794b40" style="height:100%; width:100%;"></div> <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("8df84103-353b-4b8d-b8e7-c93217794b40")) {                    Plotly.newPlot(                        "8df84103-353b-4b8d-b8e7-c93217794b40",                        [{"name":"Evaluations","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[50,50,4,8,5,50,4,50,4,7,37,11,50,50,50,26,25,5,10,7,28,50,4,50,48,7,32,20,39,21,13,13,17,13,11,50,4,15,38,50,13,6,10,8,12,5,14,47,50],"type":"bar"},{"marker":{"color":"red"},"name":"Best Trial","x":[14],"y":[50],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Number of evaluations in each trial"},"xaxis":{"title":{"text":"Trial number"}},"yaxis":{"title":{"text":"Number of evaluations before pruned"}}},                        {"responsive": true}                    )                };            </script> </div>
</div>
<br/>
<br/><p>Visualize the greedy solution (used by initial guess) of a TSP problem.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">dataset</span></a><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a> <span class="o">=</span> <span class="n">tsp_greedy</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.append.html#numpy.append" title="numpy.append"><span class="n">np</span><span class="o">.</span><span class="n">append</span></a><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">go</span><span class="o">.</span><span class="n">Figure</span></a><span class="p">()</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.add_trace" title="plotly.graph_objs.Figure.add_trace"><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span></a><span class="p">(</span><a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Scatter.html#plotly.graph_objs.Scatter" title="plotly.graph_objs.Scatter"><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span></a><span class="p">(</span><span class="n">x</span><span class="o">=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"lines+markers"</span><span class="p">))</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.update_layout" title="plotly.graph_objs.Figure.update_layout"><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span></a><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">"greedy solution (initial guess),  cost: </span><span class="si">{</span><span class="n">tsp_cost</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">,</span><span class="w"> </span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">scaleanchor</span><span class="o">=</span><span class="s2">"y"</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="p">)</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div> <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script> <div class="plotly-graph-div" id="deac4986-6a00-47f6-8f05-a86d61f29d40" style="height:100%; width:100%;"></div> <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("deac4986-6a00-47f6-8f05-a86d61f29d40")) {                    Plotly.newPlot(                        "deac4986-6a00-47f6-8f05-a86d61f29d40",                        [{"mode":"lines+markers","x":{"dtype":"f8","bdata":"UDj7ef1h5D86Bjd\u002fgQTjPxSHde34SeI\u002fLQ473rPP4D9ssc5EH7jeP2x8ZGYt5Nk\u002f+vWqIfGC1T\u002fgI69GazjUP2a8cMw8kdA\u002fCB0gNNHivz+AKuiIDmOEP3BP8nKXO7c\u002fgBQcHhkhtD8cAUj\u002fXRTCPxwFcJ\u002fXSsE\u002fKEUvnTlsvT+AUWLn0b2kP4BgJ1czQHo\u002fYL\u002fh+9wMpj+IbQyRB4K1PwBZ+NZWHo4\u002fDB+u+7IKwz+E+HHZuInJPwD1PoIBRdE\u002fpK7wI0kQ2T9ki+tzz1DZP\u002fhsdO5DBNo\u002f1A0q9g9W3D+QOlqpIy\u002fcPwYbFJxPSd8\u002fjzv0PGBl4T\u002fCEVsw7RffP+6M8u2mldo\u002f6Ar3NFzS3D8u+QSwuInaP59yLQ4g8OA\u002fth0wbo9p4z\u002fdQyBVwXXlPw4lbL717+U\u002fCb3PBwwu6j8KdLiSJunpP2\u002fbQmcpn+s\u002fa2+UGasz7D\u002f6UTMgv13uP626tpjDsO4\u002flFVCOq\u002fj7T+sG7Su3YrrPzK1xhx3a+w\u002fmNKgmjMl6z8B1i83EuzqP7YuIYhDrOs\u002fg1VZqCgM7D\u002fenOwX22\u002frPwbgqOl4G+o\u002fQa1dL9kD5z9e3WUV8qjjPzUPeC\u002f6v+A\u002fNBwDCvdd1z+oSFoUr4XNP9CbnVJ7+qQ\u002fgOqc9dT\u002fnD8GGd1AfnXSP0QlBch6LtM\u002fZpypuCwJ1j8QgB5Ei17YPziHzAJL\u002ft8\u002fzDsIHjyx4z\u002fU4xpwwQfmP+cqllN20ug\u002fvdMsyugv6T\u002f6efhgVlnnP3OFgbEn3uY\u002fHU3UDJ8z7j8wwlzGOLvtP\u002fO3OpBQP+g\u002fv+vidSJB6D\u002fJqVkohcHiP+16Er7+9uE\u002feKCiVf6u4T9QiHli1h3TPyCMoV6+htE\u002fXMihAYATzT9mJP5DRwjRP4h435A+2cg\u002fsq0o9vAI1j8BQJ7hydjjPz\u002fDSJpZX+U\u002fcFIQa6ch5D83+ne1rsHmP+KQnHUBqek\u002fypsFT08G6j9IwGshWnrsP2S0CInDKew\u002f6R9SLXSf7T+Juvfl803vP8\u002fPMBUTbO8\u002fAfJbBvvp7j+uogIk82XvP96\u002frs8k6e8\u002f4wxf8nSt7T9QOPt5\u002fWHkPw=="},"y":{"dtype":"f8","bdata":"dLYgfi9E0T9kSKBnVqDVP3ZLEBOCmdQ\u002f0gZYvQDb0z8Y1ilVZb7NPwiS\u002fxzgaMk\u002fUG3JiVs8wz9cLwiGHmPHP3TmItQ6784\u002fbtLx2AJ00j\u002fsikaP6lzXPwfxUzkVkuI\u002fvkfI9jfi5D+WWyOMJXHlP2CGMrduFuc\u002fSzzEghdU5z\u002fLDtpBmGznP+dkUdGKueg\u002f1vzyHpxT6j+FEexWBaXqP8nQ44rwous\u002fJ4pQdsYf7z+FQ9hkyiXuP5xRMEOunus\u002faYBKoyB97D+Lllyz0CDtP3hVoUFiHu0\u002fosKE0+TK7T+8LO9cAYzuP6e6T+ktP+8\u002f1+rxAB3s7T+WANcwr3bsP3CEWxbBjeo\u002fyaM8CX176T8BBQmx44DnPy9exw0oJek\u002fUxD\u002fKwlY5z\u002fc0VDHxrXkPzhn3viP0OQ\u002fc2raR1cM5D\u002f984FDa+\u002fhPw+1IHumU+E\u002fwkJlK7VX4D+UCwErYXHdPx7DKGZSpNc\u002fiAEi0x3m1j\u002fgi38fgaLPP8j7GxhK6cw\u002fYOd4fOCewj9Q6Z+umBKxP2DQ0NQVcq4\u002f8JkoJKH8rT8gzxvnIDKhPwDSdxUNb2Y\u002fIKo9zSJgkD9gtgFuzwudP7B6TnJ8xLY\u002fgPKiF70Buz9wtYg1iaKqP8ALTdie7JA\u002fyF4BYAfRvz\u002fU9BzI5GzaP7TJ3rNODds\u002fTHpOsQOK2z\u002f6llsQa4HbP3QwQx\u002fyNts\u002fRubwTCyO2D9aDi2vFuTYP6iDAKxRxNM\u002f9IGobKijzj+QXOwk4nvGP3gS6Yj9YcU\u002fzIxk9Yo7wD\u002fwlkRSyOqwP1IUWgDG1d8\u002fZMdk+4Ro4D8IeDsBHLvhPxG9FlK6geI\u002fMGjHU20B4z\u002fM3fxm+4DlPzJq\u002fjEgfOY\u002fgNq2Kibx4z9Ipe1e8z7hP2oHWZws1eA\u002fv18S6FzW7z8BMEug1NfvP0jckBBTq+4\u002flXJ4BkCr7T8\u002flf3VbtPtPxB4JB+Pje0\u002fA8g0L0s17T9ZSMzq4lDqP9arCM6m\u002fuk\u002fjshe2Kbx5z8x7hAcN+DiP40lIW3fSOI\u002fhYPkoc394T\u002faeRo+d6HuP3jC2coAY+8\u002fO2JVWED57j90tiB+L0TRPw=="},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"scaleanchor":"y","scaleratio":1},"title":{"text":"greedy solution (initial guess),  cost: 10.133"}},                        {"responsive": true}                    )                };            </script> </div>
</div>
<br/>
<br/><p>Visualize the solution found by <code class="docutils literal notranslate"><span class="pre">tsp_simulated_annealing</span></code> of the same TSP problem.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict"><span class="n">params</span></a> <span class="o">=</span> <span class="n">study</span><span class="o">.</span><span class="n">best_params</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">SAOptions</span><span class="p">(</span>
    <span class="n">max_iter</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">N_SA_ITER</span></a><span class="p">,</span>
    <span class="n">patience</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict"><span class="n">params</span></a><span class="p">[</span><span class="s2">"patience"</span><span class="p">],</span>
    <span class="n">T0</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict"><span class="n">params</span></a><span class="p">[</span><span class="s2">"T0"</span><span class="p">],</span>
    <span class="n">alpha</span><span class="o">=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict"><span class="n">params</span></a><span class="p">[</span><span class="s2">"alpha"</span><span class="p">],</span>
<span class="p">)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a> <span class="o">=</span> <span class="n">tsp_simulated_annealing</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function" href="https://numpy.org/doc/stable/reference/generated/numpy.append.html#numpy.append" title="numpy.append"><span class="n">np</span><span class="o">.</span><span class="n">append</span></a><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a> <span class="o">=</span> <a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">go</span><span class="o">.</span><span class="n">Figure</span></a><span class="p">()</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.add_trace" title="plotly.graph_objs.Figure.add_trace"><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span></a><span class="p">(</span><a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Scatter.html#plotly.graph_objs.Scatter" title="plotly.graph_objs.Scatter"><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span></a><span class="p">(</span><span class="n">x</span><span class="o">=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"lines+markers"</span><span class="p">))</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-method" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#plotly.graph_objs.Figure.update_layout" title="plotly.graph_objs.Figure.update_layout"><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span></a><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">"n_iter: </span><span class="si">{</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://docs.python.org/3/library/functions.html#int" title="builtins.int"><span class="n">options</span><span class="o">.</span><span class="n">max_iter</span></a><span class="si">}</span><span class="s2">, cost: </span><span class="si">{</span><span class="n">tsp_cost</span><span class="p">(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">d</span></a><span class="p">,</span><span class="w"> </span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><span class="n">result_idxs</span></a><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">scaleanchor</span><span class="o">=</span><span class="s2">"y"</span><span class="p">,</span> <span class="n">scaleratio</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="p">)</span>
<a class="sphx-glr-backref-module-plotly-graph_objs sphx-glr-backref-type-py-class sphx-glr-backref-instance" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="plotly.graph_objs.Figure"><span class="n">fig</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div> <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script> <div class="plotly-graph-div" id="d63fb5d6-e1b6-42e6-b935-ffdb020832ed" style="height:100%; width:100%;"></div> <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("d63fb5d6-e1b6-42e6-b935-ffdb020832ed")) {                    Plotly.newPlot(                        "d63fb5d6-e1b6-42e6-b935-ffdb020832ed",                        [{"mode":"lines+markers","x":{"dtype":"f8","bdata":"UDj7ef1h5D86Bjd\u002fgQTjPxSHde34SeI\u002fLQ473rPP4D9ssc5EH7jeP2x8ZGYt5Nk\u002fNQ94L\u002fq\u002f4D9e3WUV8qjjP0GtXS\u002fZA+c\u002fBuCo6Xgb6j\u002fenOwX22\u002frP4NVWagoDOw\u002fti4hiEOs6z8B1i83EuzqP5jSoJozJes\u002fMMJcxji77T8dTdQMnzPuPzK1xhx3a+w\u002frBu0rt2K6z+UVUI6r+PtP626tpjDsO4\u002f+lEzIL9d7j9rb5QZqzPsP2\u002fbQmcpn+s\u002fAfJbBvvp7j\u002fPzzAVE2zvP4m69+XzTe8\u002f6R9SLXSf7T9ktAiJwynsP0jAayFaeuw\u002frqICJPNl7z\u002fev67PJOnvP+MMX\u002fJ0re0\u002fypsFT08G6j\u002fikJx1AanpPzf6d7WuweY\u002fcFIQa6ch5D8\u002fw0iaWV\u002flPwFAnuHJ2OM\u002fjzv0PGBl4T8GGxScT0nfP9QNKvYPVtw\u002fkDpaqSMv3D+yrSj28AjWP2SL63PPUNk\u002fpK7wI0kQ2T\u002f4bHTuQwTaP8IRWzDtF98\u002f7ozy7aaV2j\u002foCvc0XNLcPy75BLC4ido\u002fn3ItDiDw4D+2HTBuj2njP3igolX+ruE\u002f7XoSvv724T\u002fJqVkohcHiP2Yk\u002fkNHCNE\u002fiHjfkD7ZyD9cyKEBgBPNP1CIeWLWHdM\u002fIIyhXr6G0T8A9T6CAUXRP4T4cdm4ick\u002fDB+u+7IKwz+IbQyRB4K1P2C\u002f4fvcDKY\u002fAFn41lYejj+AYCdXM0B6P4BRYufRvaQ\u002fKEUvnTlsvT8cBXCf10rBPxwBSP9dFMI\u002fgBQcHhkhtD9wT\u002fJylzu3P4Aq6IgOY4Q\u002fCB0gNNHivz+A6pz11P+cP9CbnVJ7+qQ\u002fqEhaFK+FzT80HAMK913XP\u002fr1qiHxgtU\u002f4COvRms41D9mvHDMPJHQPwYZ3UB+ddI\u002fRCUFyHou0z9mnKm4LAnWPxCAHkSLXtg\u002fOIfMAkv+3z\u002fMOwgePLHjP91DIFXBdeU\u002fDiVsvvXv5T8Jvc8HDC7qPwp0uJIm6ek\u002fv+vidSJB6D\u002fztzqQUD\u002foP9TjGnDBB+Y\u002f5yqWU3bS6D+90yzK6C\u002fpP\u002fp5+GBWWec\u002fc4WBsSfe5j9QOPt5\u002fWHkPw=="},"y":{"dtype":"f8","bdata":"dLYgfi9E0T9kSKBnVqDVP3ZLEBOCmdQ\u002f0gZYvQDb0z8Y1ilVZb7NPwiS\u002fxzgaMk\u002fsHpOcnzEtj9gtgFuzwudPyCqPc0iYJA\u002fANJ3FQ1vZj8gzxvnIDKhP\u002fCZKCSh\u002fK0\u002fYNDQ1BVyrj9Q6Z+umBKxP2DneHzgnsI\u002f8JZEUsjqsD\u002fMjGT1ijvAP8j7GxhK6cw\u002f4It\u002fH4Gizz+IASLTHebWPx7DKGZSpNc\u002flAsBK2Fx3T\u002fCQmUrtVfgPw+1IHumU+E\u002fhYPkoc394T+NJSFt30jiPzHuEBw34OI\u002fjshe2Kbx5z\u002fWqwjOpv7pP1lIzOriUOo\u002f2nkaPneh7j94wtnKAGPvPztiVVhA+e4\u002fA8g0L0s17T8QeCQfj43tPz+V\u002fdVu0+0\u002flXJ4BkCr7T9I3JAQU6vuPwEwS6DU1+8\u002f1+rxAB3s7T+nuk\u002fpLT\u002fvP6LChNPkyu0\u002fvCzvXAGM7j+\u002fXxLoXNbvP4uWXLPQIO0\u002faYBKoyB97D94VaFBYh7tP5YA1zCvduw\u002fcIRbFsGN6j\u002fJozwJfXvpPwEFCbHjgOc\u002fL17HDSgl6T9TEP8rCVjnPzBox1NtAeM\u002fEb0WUrqB4j8IeDsBHLvhP0il7V7zPuE\u002fagdZnCzV4D+A2rYqJvHjP8zd\u002fGb7gOU\u002fMmr+MSB85j+cUTBDrp7rP4VD2GTKJe4\u002fJ4pQdsYf7z+FEexWBaXqP9b88h6cU+o\u002fydDjivCi6z\u002fnZFHRirnoP8sO2kGYbOc\u002fSzzEghdU5z9ghjK3bhbnP5ZbI4wlceU\u002fvkfI9jfi5D8H8VM5FZLiP+yKRo\u002fqXNc\u002fbtLx2AJ00j\u002fIXgFgB9G\u002fP8ALTdie7JA\u002fcLWINYmiqj+A8qIXvQG7P1BtyYlbPMM\u002fXC8Ihh5jxz905iLUOu\u002fOP9T0HMjkbNo\u002ftMnes04N2z9Mek6xA4rbP\u002fqWWxBrgds\u002fdDBDH\u002fI22z9G5vBMLI7YP9zRUMfGteQ\u002fOGfe+I\u002fQ5D9zatpHVwzkP\u002f3zgUNr7+E\u002fZMdk+4Ro4D9SFFoAxtXfP1oOLa8W5Ng\u002fqIMArFHE0z\u002f0gahsqKPOP5Bc7CTie8Y\u002feBLpiP1hxT90tiB+L0TRPw=="},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"scaleanchor":"y","scaleratio":1},"title":{"text":"n_iter: 10000, cost: 8.439"}},                        {"responsive": true}                    )                };            </script> </div>
</div>
<br/>
<br/><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (4 minutes 32.326 seconds)</p>
<a class="dashAnchor" name="//apple_ref/cpp/Section/sphx_glr_download_tutorial_20_recipes_013_wilcoxon_pruner.py"></a><div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorial-20-recipes-013-wilcoxon-pruner-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/fdb367e2f658f11d7af64b7a2bf5bf42/013_wilcoxon_pruner.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">013_wilcoxon_pruner.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/18920e38a70c06c1d61bd307e4df3ae1/013_wilcoxon_pruner.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">013_wilcoxon_pruner.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/4767096c3dcceef5a79ec2ab8d4b80c9/013_wilcoxon_pruner.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">013_wilcoxon_pruner.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</div>
</div>
<footer>
<hr/>
<div role="contentinfo">
<p>© Copyright 2018, Optuna Contributors.</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
    <a href="../../privacy.html">Privacy Policy</a>.
     


</footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>